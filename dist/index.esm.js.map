{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { StateStorage } from \"zustand/middleware\";\r\n\r\nconst ChromeLocalStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.local.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.local.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.local.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nconst ChromeSyncStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.sync.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.sync.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.sync.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nconst ChromeSessionStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.session.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.session.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.session.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nexport { ChromeLocalStorage, ChromeSessionStorage, ChromeSyncStorage };\r\n"],"names":["ChromeLocalStorage","getItem","name","Promise","resolve","reject","chrome","storage","local","get","result","runtime","lastError","setItem","value","_chrome$storage$local","set","removeItem","remove","ChromeSyncStorage","sync","_chrome$storage$sync$","ChromeSessionStorage","session","_chrome$storage$sessi"],"mappings":"AAEM,IAAAA,EAAmC,CACvCC,QAAS,SAACC,GACR,OAAO,IAAIC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQC,MAAMC,IAAIP,EAAM,SAACQ,GAC9B,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAO,IAAIX,QAAc,SAACC,EAASC,GAAU,IAAAU,EAC3CT,OAAOC,QAAQC,MAAMQ,MAAGD,EAAA,CAAA,GAAIb,GAAOY,EAAKC,GAAI,WAC1C,GAAIT,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAW,IAAAC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQC,MAAMU,OAAOhB,EAAM,WAChC,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,GAGIe,EAAkC,CACtClB,QAAS,SAACC,GACR,WAAWC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQa,KAAKX,IAAIP,EAAM,SAACQ,GAC7B,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAO,IAAIX,QAAc,SAACC,EAASC,GAAU,IAAAgB,EAC3Cf,OAAOC,QAAQa,KAAKJ,MAAGK,EAAAA,CAAAA,GAAInB,GAAOY,EAAKO,GAAI,WACzC,GAAIf,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAO,IAAIC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQa,KAAKF,OAAOhB,EAAM,WAC/B,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,GAGIkB,EAAqC,CACzCrB,QAAS,SAACC,GACR,WAAWC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQgB,QAAQd,IAAIP,EAAM,SAACQ,GAChC,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAW,IAAAX,QAAc,SAACC,EAASC,OAAUmB,EAC3ClB,OAAOC,QAAQgB,QAAQP,MAAGQ,EAAAA,CAAAA,GAAItB,GAAOY,EAAKU,GAAI,WAC5C,GAAIlB,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAO,IAAIC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQgB,QAAQL,OAAOhB,EAAM,WAClC,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF"}