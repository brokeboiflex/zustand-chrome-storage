{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["import { StateStorage } from \"zustand/middleware\";\r\n\r\nconst ChromeLocalStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.local.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.local.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.local.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nconst ChromeSyncStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.sync.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.sync.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.sync.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nconst ChromeSessionStorage: StateStorage = {\r\n  getItem: (name) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      chrome.storage.session.get(name, (result) => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve(result[name]);\r\n      });\r\n    });\r\n  },\r\n  setItem: (name, value) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.session.set({ [name]: value }, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n  removeItem: (name) => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      chrome.storage.session.remove(name, () => {\r\n        if (chrome.runtime.lastError) {\r\n          return reject(chrome.runtime.lastError);\r\n        }\r\n        resolve();\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nexport { ChromeLocalStorage, ChromeSessionStorage, ChromeSyncStorage };\r\n"],"names":["ChromeSyncStorage","getItem","name","Promise","resolve","reject","chrome","storage","sync","get","result","runtime","lastError","setItem","value","_chrome$storage$sync$","set","removeItem","remove","ChromeSessionStorage","session","_chrome$storage$sessi","local","_chrome$storage$local"],"mappings":"iPAEM,IAiCAA,EAAkC,CACtCC,QAAS,SAACC,GACR,WAAWC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQC,KAAKC,IAAIP,EAAM,SAACQ,GAC7B,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAO,IAAIX,QAAc,SAACC,EAASC,GAAU,IAAAU,EAC3CT,OAAOC,QAAQC,KAAKQ,MAAGD,EAAAA,CAAAA,GAAIb,GAAOY,EAAKC,GAAI,WACzC,GAAIT,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAO,IAAIC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQC,KAAKU,OAAOhB,EAAM,WAC/B,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,GAGIe,EAAqC,CACzClB,QAAS,SAACC,GACR,WAAWC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQa,QAAQX,IAAIP,EAAM,SAACQ,GAChC,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAW,IAAAX,QAAc,SAACC,EAASC,OAAUgB,EAC3Cf,OAAOC,QAAQa,QAAQJ,MAAGK,EAAAA,CAAAA,GAAInB,GAAOY,EAAKO,GAAI,WAC5C,GAAIf,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAO,IAAIC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQa,QAAQF,OAAOhB,EAAM,WAClC,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,wBAhGuC,CACvCH,QAAS,SAACC,GACR,OAAO,IAAIC,QAAgB,SAACC,EAASC,GACnCC,OAAOC,QAAQe,MAAMb,IAAIP,EAAM,SAACQ,GAC9B,GAAIJ,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,EAAQM,EAAOR,GACjB,EACF,EACF,EACAW,QAAS,SAACX,EAAMY,GACd,OAAO,IAAIX,QAAc,SAACC,EAASC,GAAU,IAAAkB,EAC3CjB,OAAOC,QAAQe,MAAMN,MAAGO,EAAA,CAAA,GAAIrB,GAAOY,EAAKS,GAAI,WAC1C,GAAIjB,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF,EACAa,WAAY,SAACf,GACX,OAAW,IAAAC,QAAc,SAACC,EAASC,GACjCC,OAAOC,QAAQe,MAAMJ,OAAOhB,EAAM,WAChC,GAAII,OAAOK,QAAQC,UACjB,OAAOP,EAAOC,OAAOK,QAAQC,WAE/BR,GACF,EACF,EACF"}